# Environment Variables for LOCAL TESTING
# Copy this file to .env.local for local Docker testing
# Command: cp .env.local.example .env.local

# IMPORTANT: This is for LOCAL TESTING ONLY
# For production deployment, use .env.example instead

# ============================================================================
# Docker Compose Configuration
# ============================================================================

# Project name - use different name to avoid conflicts with production
COMPOSE_PROJECT_NAME=survey-dashboard-local

# ============================================================================
# Application Configuration
# ============================================================================

# Port the Panel application runs on inside the container
APP_PORT=5006

# ============================================================================
# Nginx Configuration
# ============================================================================

# Port nginx exposes on the host machine
# Default: 80 for HTTP
# If port 80 is in use, change to 8080 or another available port
NGINX_PORT=80

# Domain name - use localhost for local testing
# IMPORTANT: HTTPS will NOT work with localhost (Let's Encrypt requires real domains)
# You can only test HTTP locally
HOST=localhost

# Path on the domain where the dashboard is accessible
# Test the same path you'll use in production
# Example: VIRTUAL_PATH=/2021community
# Leave empty to serve from root: http://localhost/
VIRTUAL_PATH=/2021community

# ============================================================================
# SSL/HTTPS Configuration (Let's Encrypt)
# ============================================================================

# Dummy email for local testing
# This is not used when HOST=localhost (Let's Encrypt won't run)
# In production, use a real email address
LETSENCRYPT_EMAIL=test@localhost

# ============================================================================
# Python Configuration
# ============================================================================

# Keep Python output unbuffered for better logging
PYTHONUNBUFFERED=1

# ============================================================================
# LOCAL TESTING NOTES
# ============================================================================

# What works locally:
# ✅ Docker build and container startup
# ✅ HTTP access at http://localhost/2021community
# ✅ Path routing and restrictions
# ✅ WebSocket connections
# ✅ Dashboard interactivity
# ✅ Container restarts and rebuilds

# What does NOT work locally:
# ❌ HTTPS/SSL certificates (requires real domain)
# ❌ Let's Encrypt certificate acquisition (localhost is not valid)
# ❌ External access from internet (only local machine)

# How to test:
# 1. Copy this file: cp .env.local.example .env.local
# 2. Start containers: docker-compose --env-file .env.local up -d --build
# 3. Test in browser: http://localhost/2021community
# 4. Follow LOCAL_TESTING.md for detailed testing scenarios

# Cleanup after testing:
# docker-compose --env-file .env.local down
# docker-compose --env-file .env.local down -v  # Remove volumes too
